# Phase 2: タスク分割・タスクリスト作成ワークフロー

## 🎯 フェーズ概要
**目的**: 基本設計をもとに実装可能なタスクに分割し、タスクリストファイルを作成する
**担当**: リーダーエージェント
**実行環境**: **tmux不使用** - 引き続きClaude Codeで実行
**完了条件**: タスクリストファイル作成完了

---

## 📋 実行チェックリスト

### **Step 2-1: タスク分割・タスクリスト作成** 🤖
```yaml
トリガー: Phase 1完了 + ユーザーのタスク分割指示
実行者: リーダーエージェント

前提条件:
  - Phase 1完了
  - プロジェクト設計書一式確認済み

CRITICAL_CHECKPOINT: 必ず2段階実行
phase_1_task_breakdown:
  - 機能要求を親タスクに分割
  - 親タスクを適度な粒度の子タスクに分解
  - タスク間の依存関係を分析
  - 並列実行可能なタスクを特定
  - タスク優先度付け
  - タスク分割ファイル作成（.ai/tasks/）
  - "タスク分割が完了しました。続いてタスクリストファイルを作成します"

MANDATORY_STEP: タスクリストファイル作成は必須実行
phase_2_task_list_creation:
  - 各タスクをマークダウン形式でファイルに記載
  - タスクID、タスク名、担当者、ステータス、依存関係を記載
  - .ai/tasks/task_list.md に保存
  - 各タスクの詳細を個別ファイルに作成（.ai/tasks/task_001.md 等）
  - "タスクリストファイル作成が完了しました。エンジニアエージェントへのタスク分配準備完了です"

タスクリストファイル テンプレート:
  # タスクリスト (.ai/tasks/task_list.md)
  ## 📋 プロジェクトタスク一覧
  
  | ID | タスク名 | 担当 | ステータス | 優先度 | 依存 |
  |----|---------|------|------------|--------|------|
  | TASK-001 | [認証API実装](./task_001.md) | engineer-1 | 未着手 | HIGH | - |
  | TASK-002 | [データCRUD実装](./task_002.md) | engineer-2 | 未着手 | HIGH | TASK-001 |
  | TASK-003 | [API統合](./task_003.md) | engineer-3 | 未着手 | MEDIUM | TASK-001,002 |
  
  # 個別タスクファイル (.ai/tasks/task_001.md)
  ## TASK-001: 認証API実装
  
  ### 📋 タスク概要
  {詳細な要件説明}
  
  ### ✅ 受け入れ基準
  - [ ] {基準1}
  - [ ] {基準2}
  - [ ] {基準3}
  
  ### 🔗 依存関係
  - なし
  
  ### 📝 実装メモ
  {技術的な留意点}
  
  ### 📋 ステータス更新履歴
  - 2024-XX-XX: タスク作成
  - 2024-XX-XX: engineer-1に割り当て

completion_criteria:
  - タスク分割・文書化済み
  - タスクリストファイル作成済み（.ai/tasks/task_list.md）
  - 個別タスクファイル作成済み（.ai/tasks/task_XXX.md）

next_steps:
  - "タスクリストファイル作成完了。エンジニアエージェントへのタスク分配準備完了"
  - "STOP_POINT: 実装フェーズには進まない"
  - ユーザーから「エンジニアエージェントにタスクを分配してください」指示を待つ
  - "MANDATORY: 次のように明確に指示する"
  - 「Phase 2完了。次フェーズへの移行指示のため、@.ai-framework/04_multi_agent_operational_workflow.md をリーダーエージェントに読み込ませてください。」
```

---

## 🎯 重要な制約・注意事項

### **リーダーエージェントの役割制限**
- **Phase 2では実装は絶対に行わない**
- **タスク分割・ファイル作成・調整のみ**
- **タスクリストファイル作成は必須実行項目**

### **フェーズ移行ルール**
- **Phase 2完了後、必ずユーザー確認を取る**
- **自動的に次フェーズに進まない**
- **ユーザーから「Phase 2に進んでください」指示を待つ**

---

## 🔗 関連ドキュメント
- **前フェーズ**: @.ai-framework/workflow_phase_1_requirements_design.md
- **次フェーズ**: @.ai-framework/workflow_phase_3_parallel_implementation.md
- **エージェント通信**: @.ai-framework/05_practical_agent_communication_system.md (Phase 3で必要)

## 🚀 実行方法
```bash
# Phase 1から継続して実行（同じClaude Codeセッションで）
# tmuxは使用しない

# Phase 2完了後、Phase 3を開始する場合:
./scripts/phase3-start.sh
``` 
 